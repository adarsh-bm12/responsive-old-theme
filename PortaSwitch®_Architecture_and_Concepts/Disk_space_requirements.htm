<?xml version="1.0" encoding="utf-8" ?>

<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head>

  <script type="text/javascript" language="JavaScript">
    //<![CDATA[
    function reDo() {
      if (innerWidth != origWidth || innerHeight != origHeight)
        location.reload();
    }
    if ((parseInt(navigator.appVersion) == 4) && (navigator.appName == "Netscape")) {
      origWidth = innerWidth;
      origHeight = innerHeight;
      onresize = reDo;
    }
    onerror = null;
  //]]>
  </script>
  <style type="text/css">/*<![CDATA[*/

    < !-- div.WebHelpPopupMenu {
      position: absolute;
      left: 0px;
      top: 0px;
      z-index: 4;
      visibility: hidden;
    }

    p.WebHelpNavBar {
      text-align: right;
    }

    -->
  
/*]]>*/</style>

  <script type="text/javascript">//<![CDATA[

    gRootRelPath = "..";
    gCommonRootRelPath = "..";
    gTopicId = "1.3";
  
//]]></script>

  <script type="text/javascript" src="../template/scripts/rh.min.js"></script>
  <script type="text/javascript" src="../template/scripts/common.min.js"></script>
  <script type="text/javascript" src="../template/scripts/topic.min.js"></script>
  <script type="text/javascript" src="../template/scripts/topicwidgets.min.js"></script>
<script type="text/javascript" src="../whxdata/projectsettings.js"></script>
  <link rel="stylesheet" type="text/css" href="../template/styles/topic.min.css"/>
  <link rel="stylesheet" type="text/css" href="../template/Port/topicheader.css"/>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
  <meta name="generator" content="Adobe RoboHelp 2019"/>
  <title>Disk space requirements</title>
  <meta name="topic-status" content="Draft"/>

  <meta charset="UTF-8"/>
  <title>Disk space requirements</title>
  <meta name="generator" content="Adobe RoboHelp 2019"/>
  <link rel="stylesheet" type="text/css" href="../assets/css/new_css.css"/>
  <link rel="stylesheet" type="text/css" href="../assets/css/PortaSwitch_Concepts_MR89-01-AD.css"/>
</head>

<body>
  <div class="topic-header rh-hide" id="rh-topic-header" onclick="rh._.goToFullLayout()">
    <div class="logo">
    </div>
    <div class="nav">
      <div class="title" title="Disk space requirements">
        <span>Disk space requirements</span>
      </div>
      <div class="gotohome" title="Click here to see this page in full context">
        <span>Click here to see this page in full context</span>
      </div>
    </div>
  </div>
  <div class="topic-header-shadow rh-hide" id="rh-topic-header-shadow"></div>



  <h2 class="Heading2"><a id="_Disk_space_requirements"></a>Disk space requirements</h2>
  <p>When buying hardware for your servers, you obviously want to be sure that their capability will be sufficient to suit the demands of your business. Among other hardware requirements, the HDD capacity should be carefully considered to ensure that it
    will satisfy the desired traffic patterns as well as future business growth opportunities.</p>
  <p>Disk space requirements can be estimated based on business scenarios, traffic patterns and the desired PortaSwitch® configuration. Consider the examples below.</p>
  <h4 class="Heading4"><a id="PortaBilling®,_PortaSIP®_and_log_storage_servers"></a>PortaBilling®, PortaSIP® and log storage servers</h4>
  <p>We will use the following figures to estimate the disk space required:</p>
  <ul class="List70">
    <li>
      <p class="ListParagraph">Each call processed by PortaSwitch® will increase SIP logs by approximately 100 KB and billing logs by approximately 50 KB.</p>
    </li>
    <li>
      <p class="ListParagraph">Each registration processed by PortaSwitch® will increase SIP logs by approximately 10 KB and billing logs by approximately 5 KB.</p>
    </li>
  </ul>
  <p>We will also use the following assumptions for the sake of simplicity:</p>
  <ul>
    <li>
      <p class="ListParagraph">The average call duration is around 5 minutes.</p>
    </li>
    <li>
      <p class="ListParagraph">A call success rate (ASR) is 50% (the industry norm).</p>
    </li>
    <li>
      <p class="ListParagraph">There are ten thousand registered phones with an average re-registration period of 5 minutes.</p>
    </li>
    <li>
      <p class="ListParagraph">The PortaSIP® server and the PortaBilling® servers contain uncompressed log files for the last three days and all log files for the required period (e.g. 10 days) will be available on the centralized log storage (7 compressed and 3 uncompressed).</p>
    </li>
    <li>
      <p class="ListParagraph">Log compression ratio is 5% (bzip2).</p>
    </li>
  </ul>
  <p>Using the figures and assumptions described above, we can estimate how much disk space is needed to process 10 MMM (ten million minutes per month). Taking into consideration that for every failed call, logs and xDRs are also generated, we need to multiply
    the total sum by two (ASR 50%). Note that we calculate an average number of calls per day using the following formula: 10,000,000 minutes / 5 minutes / 30 days = 66,666 calls and then round up this number to 70,000, for convenience.</p>
  <ul>
    <li><em>PortaBilling</em>®:
      <ul>
        <li>
          <p class="ListParagraph">Calls: 70,000 calls per day * 50 KB * 2 ≈ 7 GB for one day</p>
        </li>
        <li>
          <p class="ListParagraph">Registrations: 288 registrations / day per phone * 10,000 phones * 5 KB ≈ 14.4 GB for one day</p>
        </li>
        <li>
          <p class="ListParagraph">Total for one day: 7 GB + 14.4 GB = 21.4 GB</p>
        </li>
        <li>
          <p class="ListParagraph">Total for three days: 21.4 GB * 3 days ≈ 64.2 GB</p>
        </li>
      </ul>
    </li>
  </ul>
  <ul>
    <li><em>PortaSIP</em>®:
      <ul>
        <li>
          <p class="ListParagraph">Total for three days: ≈ 42.8 * 3 days ≈ 128.4 GB</p>
        </li>
        <li>
          <p class="ListParagraph">Total for one day: 14 GB + 28.8 GB ≈ 42.8 GB</p>
        </li>
        <li>
          <p class="ListParagraph">Registrations: 288 registrations / day per phone * 10,000 phones * 10 KB ≈ 28.8 GB for one day</p>
        </li>
      </ul>
    </li>
  </ul>
  <ul>
    <li>
      <p class="ListParagraph"><em>The centralized log storage</em>:</p>
      <p class="ListParagraph">3 days * (21.4 GB + 42.8 GB) + 7 days * (21.4 GB + 42.8 GB) * 5% ≈ 192.6 GB + 22.5 GB ≈ 215 GB</p>
    </li>
  </ul>
  <h4 class="Heading4"><a id="Database_servers"></a>Database servers</h4>
  <p>We will use the following figures to estimate how much disk space is needed on the database servers:</p>
  <ul class="List36" data-start="1" xmlns="">
    <li>
      <p class="ListParagraph">Each xDR takes up about 1.5 KB database space.</p>
    </li>
    <li>
      <p class="ListParagraph">PortaBilling®produces at least 2 xDRs for each call. Actually, the number of xDRs produced depends on the call scenario and can reach up to 5–7 or even more xDRs for complex calls. For simplicity’s sake, we assume that on average, 3 xDRs are produced
        per call.</p>
    </li>
  </ul>
  <p>We will also use the following assumptions for the sake of simplicity:</p>
  <ul>
    <li>
      <p class="ListParagraph">The average call duration is around 5 minutes.</p>
    </li>
    <li>
      <p class="ListParagraph">A call success rate (ASR) is 50% (the industry norm).</p>
    </li>
    <li>
      <p class="ListParagraph">You will need to allocate space for MySQL binary log files (25–100 GB depending on the rate of usage of the database). Let’s allocate 50 GB for binary log files.</p>
    </li>
    <li>
      <p class="ListParagraph">In addition, for performing operations such as backup, you will need to reserve an amount of free space roughly equal to the projected database size.</p>
    </li>
    <li>
      <p class="ListParagraph">You will keep xDRs for the previous 60 days.</p>
    </li>
  </ul>
  <p>Using the figures and assumptions described above we can estimate the disk space that will be consumed to process 10 MMM (ten million minutes per month) on the database servers:</p>
  <ul>
    <li>
      <p class="ListParagraph">70,000 calls per day * 1.5 KB * 3 CDRs * 60 days * 2 * 2 ≈ ≈ 75.6 GB</p>
    </li>
  </ul>
  <p>So, not taking into the consideration the MySQL binary log files and reserving space for operations such as backup, 75.6 GB is required on the database servers to process 10 MMM.</p>
  <h4 class="Heading4"><a id="Estimates_based_on_different_traffic_patterns"></a>Estimates based on different traffic patterns</h4>
  <p>The following table shows the minimum amount of disk space required on each server for installations with different traffic patterns. This includes the 60 GB minimum necessary for system installation.</p>
  <div align="left">
    <table class="NormalTable">
      <tbody>
        <tr>
          <th rowspan="2" width="92">
            <p class="TableRowTitle">Traffic pattern</p>
          </th>
          <th rowspan="2" width="81">
            <p class="TableRowTitle">The database servers</p>
          </th>
          <th width="97">
            <p class="TableRowTitle">PortaBilling® server</p>
          </th>
          <th width="94">
            <p class="TableRowTitle">PortaSIP® server</p>
          </th>
          <th rowspan="2" width="96">
            <p class="TableRowTitle">The centralized log storage server</p>
          </th>
        </tr>
        <tr>
          <th colspan="2" width="191">
            <p style="font-weight:normal; margin: 0; padding: 0;"><em>keep logs for last two days only</em></p>
            <em><span></span></em></th>
        </tr>
        <tr>
          <td>
            <p class="TableParagraph">10 MMM,<br/> 10,000
              <br/> registered phones</p>
          </td>
          <td>
            <p class="TableParagraph">185 GB</p>
          </td>
          <td>
            <p class="TableParagraph">124 GB</p>
          </td>
          <td>
            <p class="TableParagraph">188 GB</p>
          </td>
          <td>
            <p class="TableParagraph">275 GB</p>
          </td>
        </tr>
        <tr>
          <td>
            <p class="TableParagraph">20 MMM,<br/> 20,000
              <br/> registered phones</p>
          </td>
          <td>
            <p class="TableParagraph">260 GB</p>
          </td>
          <td>
            <p class="TableParagraph">188 GB</p>
          </td>
          <td>
            <p class="TableParagraph">316 GB</p>
          </td>
          <td>
            <p class="TableParagraph">490 GB</p>
          </td>
        </tr>
        <tr>
          <td>
            <p class="TableParagraph">50 MMM,<br/> 50,000
              <br/> registered phones</p>
          </td>
          <td>
            <p class="TableParagraph">485 GB</p>
          </td>
          <td>
            <p class="TableParagraph">220 GB*</p>
          </td>
          <td>
            <p class="TableParagraph">273 GB**</p>
          </td>
          <td>
            <p class="TableParagraph">1 TB</p>
          </td>
        </tr>
        <tr>
          <td>
            <p class="TableParagraph">100 MMM,<br/> 100,000 registered phones</p>
          </td>
          <td>
            <p class="TableParagraph">860 GB</p>
          </td>
          <td>
            <p class="TableParagraph">380 GB*</p>
          </td>
          <td>
            <p class="TableParagraph">487 GB**</p>
          </td>
          <td>
            <p class="TableParagraph">2.2 TB</p>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
  <p><em>* If two PortaBilling® servers provide AAA services, then this amount of disk space will be needed on each server.</em></p>
  <p><em>** If three PortaSIP® servers process traffic, then this amount of disk space will be needed on each server.</em></p>
  <p class="redNote"><strong>NOTE</strong>: The above figures are minimal and depending on the services provided, may grow (e.g. call records take up disk space. In order to store 15 hours of recorded conversations, 1 GB of disk space is required).</p>

</body></html>